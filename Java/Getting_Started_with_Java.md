## :star: Chapter 01. 자바를 시작하기 전에 (Reference : Java의 정석)

### I. 자바(Java Programming Language)

#### 1. 자바란?
자바는 썬 마이크로 시스템즈(Sun Microsystems, Inc. 이하 썬)에서 개발하여 1996년 1월에 공식적으로 발표한 **객체지향 프로그래밍** 언어이다. 자바의 가장 중요한 특징은 운영체제(Operating System, 플랫폼)에 독립적이라는 것이다. 자바로 작성된 프로그램은 **운영체제의 종류에 관계없이 실행**이 가능하기 때문에 운영체제에 따라 프로그램을 전혀 변경하지 않고도 실행이 가능하다. 자바는 풍부한 클래스 라이브러리(Java API)를 통해 프로그래밍에 필요한 요소들을 기본적으로 제공하기 때문에 자바 프로그래머는 단순히 이 클래스 라이브러리만을 잘 활용해도 강력한 기능의 자바 프로그램을 작성할 수 있다.

#### 2. 자바의 역사
자바의 역사는 1991년에 썬의 엔지니어들에 의해서 고안된 오크(Oak)라는 언어에서부터 시작되었다. 제임스 고슬링과 아서 밴 호프와 같은 썬의 엔지니어들의 원래 목표는 가전제품에 탑재 될 소프트웨어를 만드는 것이었다. 처음에는 C++을 확장해서 사용하려 했지만 C++로는 그들의 목적을 이루기에 부족하다는 것을 깨달았다. 그래서 **C++의 장점을 도입**하고 단점을 보완한 새로운 언어를 개발하기에 이르렀다.

#### 3. 자바언어의 특징
자바는 최근에 발표된 언어답게 기존의 다른 언어네는 없는 많은 장점들을 가지고 있다. 그 중 대표적인 몇 가지에 대해서 알아보도록 하자.

**운영체제에 독립적이다.**

    기존의 언어는 한 운영체제에 맞게 개발된 프로그램을 다른 종류의 운영체제에 적용하기 위해서는 많은 노력이 필요하였지만, 자바에서는 더 이상 그런 노력을 하지 않아도 된다. 이것은 일종의 에뮬레이터인 자바가상머신(JVM)을 통해서 가능한 것인데, 자바 응용프로그램은 운영체제나 하드웨어가 아닌 JVM하고만 통신하고 JVM이 자바 응용프로그램으로부터 전달받은 명령을 해당 운영체제가 이해할 수 있도록 변환하여 전달한다. 자바로 작성된 프로그램은 운영체제에 독립적이지만 JVM은 운영체제에 종속적이어서 썬에서는 여러 운영체제에 설치할 수 있는 서로 다른 버전의 JVM을 제공하고 있다. 그래서 자바로 작성된 프로그램은 운영체제와 하드웨어에 관계없이 실행 가능하며 이것을 한번 작성하면 어디서나 실행된다.(Write once, run anywhere)고 표현하기도 한다.

**객체지향언어이다.**

    자바는 프로그래밍의 대세로 자리 잡은 객체지향 프로그래밍언어(Object-Oriented Pro-gramming Language)중의 하나로 객체지향 개념의 특징인 상속, 캡슐화, 다형성이 잘 적용된 순수한 객체지향언어라는 평가를 받고 있다.

**비교적 배우기 쉽다.**

    자바의 연산자와 기본 구문은 C++에서, 객체지향관련 구문은 스몰톡(small talk)이라는 객체지향언어에서 가져왔다. 이 들 언어의 장점은 취하면서 복잡하고 불필요한 부분은 과감히 제거하여 단순화함으로써 쉽게 배울 수 있으며, 간결하고 이해하기 쉬운 코드를 작성할 수 있도록 하였다. 객체지향언어의 특징인 재사용성과 유지보수의 용이성 등의 많은 장점에도 불구하고 배우기가 어렵기 때문에 많은 사용자층을 확보하지 못했으나 자바의 간결하면서도 명료한 객체지향적 설계는 사용자들이 객체지향개념을 보다 쉽게 이해하고 활용할 수 있도록 하여 객체지향 프로그래밍의 저변확대에 크게 기여했다.

**자동 메모리 관리(Garbage Collection)**

    자바로 작성된 프로그램이 실행되면, 가비지 컬렉터(Garbage Collector)가 자동적으로 메모리를 관리해주기 때문에 프로그래머는 메모리를 따로 관리 하지 않아도 된다. 가비지 컬렉터가 없다면 프로그래머가 사용하지 않는 메모리를 체크하고 반환하는 일을 수동적으로 처리해야할 것이다. 자동으로 메모리를 관리한다는 것이 다소 비효율적인 면도 있지만, 프로그래머가 보다 프로그래밍에 집중할 수 있도록 도와준다.

**네트워크와 분산처리를 지원한다.**

    인터넷과 대규모 분산환경을 염두에 둔 까닭인지 풍부하고 다양한 네트워크 프로그래밍 라이브러리(Java API)를 통해 비교적 짧은 시간에 네트워크 관련 프로그램을 쉽게 개발할 수 있도록 지원한다.

**멀티쓰레드를 지원한다.**

    일반적으로 멀티쓰레드(multi-thread)의 지원은 사용되는 운영체제에 따라 구현방법도 상이하며, 처리 방식도 다르다. 그러나 자바에 개발되는 멀티쓰레드 프로그램은 시스템과는 관계없이 구현 가능하며, 관련된 라이브러리(Java API)가 제공되므로 구현이 쉽다. 그리고 여러 쓰레드에 대한 스케줄링(scheduling)을 자바 인터프리터가 담당하게 된다.

**동적 로딩(Dynamic Loading)을 지원한다.**

    보통 자바로 작성된 애플리케이션은 여러 개의 클래스로 구성되어 있다. 자바는 동적 로딩을 지원하기 때문에 실행 시에 모든 클래스가 로딩되지 않고 필요한 시점에 클래스를 로딩하여 사용할 수 있다는 장점이 있다. 그 외에도 일부 클래스가 변경되어도 전체 애플리케이션을 다시 컴파일하지 않아도 되며, 애플리케이션의 변경사항이 발생해도 비교적 적은 작업만으로도 처리할 수 있는 유연한 애플리케이션을 작성할 수 있다.

#### 4. JVM(Java Virtual Machine)
JVM은 'Java virtual machine'을 줄인 것으로 직역하면 '자바를 실행하기 위한 가상 기계'라고 할 수 있다. 가상 기계라는 말이 좀 어색하겠지만 영어권에서는 컴퓨터를 머신이라고도 부르기 때문이 '머신'이라는 용어 대신 '컴퓨터'를 사용해서 '자바를 실행하기 위한 가상 컴퓨터'라고 이해하면 좋을 것이다. '가상 기계(virtual machine)'는 소프트웨어로 구현된 하드웨어를 뜻하는 넓은 의미의 용어이며, 컴퓨터의 성능이 향상됨에 따라 점점 더 많은 하드웨어들이 소프트웨어화 되어 플레이어라던가, 오디오 시스템을 스프트웨어화한 윈앰프(winamp) 등이 있다. 이와 마찬가지로 '가상 컴퓨터(virtual computer)'는 실제 컴퓨터(하드웨어)가 아닌 소프트웨어로 구현된 컴퓨터라는 뜻으로 컴퓨터 속의 컴퓨터라고 생각하면 된다. 자바로 작성된 애플리케이션은 모두 이 가상 컴퓨터(JVM)에서만 실행되기 때문에, 자바 애플리케이션이 실행되기 위해서는 반드시 JVM이 필요하다.

![image](https://user-images.githubusercontent.com/78870076/112854578-f5779780-90e8-11eb-80fe-ee3e8ebc4541.png)

일반 애플리케이션의 코드는 OS만 거치고 하드웨어로 전달 되는데 비해 Java 애플리케이션은 JVM을 한 번 더 거치기 때문에, 그리고 하드웨어에 맞게 완전히 컴파일 된 상태가 아니고 실행 시에 해석(interpret) 되기 때문에 속도가 느리다는 단점을 가지고 있다. 그러나 요즘엔 **바이트코드(컴파일된 자바코드)**를 하드웨어의 기계어로 바로 변환 해주는 JIT 컴파일러와 향상된 최적화 기술이 적용 되어서 속도의 격차를 많이 줄였다. 그림에서 볼 수 있듯이 일반 애플리케이션은 OS와 바로 맞붙어 있기 때문에 OS종속적이다. 그래서 다른 OS에서 실행시키기 위해서는 애플리케이션을 그 OS에 맞게 변경해야한다. 반면에 Java 애플리케이션은 JVM하고만 상호작용을 하기 때문에 OS와 하드웨어에 독립적이라 다른 OS에서도 프로그램의 변경없이 실행이 가능한 것이다. 단 JVM은 OS에 종속적이기 때문에 해당 OS에 종속적이기 때문에 해당 OS에서 실행 가능한 JVM이 필요하다. 그래서 썬에서는 일반적으로 많이 사용되는 주요 OS용 JVM을 제공하고 있고, 이렇게 함으로써 자바의 중요한 장점 중의 하나인 'Write once, run anywhere.(한 번 작성하면 어디서든 실행된다.)'이 가능하게 되는 것이다.


### II. 자바 개발환경 구축하기

#### 1. 자바 개발도구(JDK)설치하기
자바로 프로그래밍을 하기 위해서는 먼저 JDK(Java Development Kit)를 설치해야 한다. JDK를 설치하면, 자바가상머신(Java Virtual Machine, JVM)과 자바클래스 라이브러리(Java API)외에 자바를 개발하는데 필요한 프로그램들이 설치된다. JDK의 bin 디렉토리에 있는 주요 실행 파일들은 다음과 같다.
- javac.exe : 자바 컴파일러, 자바 소스코드를 바이트 코드로 컴파일한다.
- java.exe : 자바 인터프리터, 컴파일러가 생성한 바이트 코드를 해석하고 실행한다.
- javap.exe : 역어셈블러, 컴파일된 클래스 파일을 원래의 소스로 변환한다.
- javadoc.exe : 자동 문서 생성기, 소스 파일에 있는 주석(/** */)을 이용하여 Java API 문서와 같은 형식의 문서를 자동으로 생성한다.
- jar.exe : 압축 프로그램, 클래스 파일과 프로그램의 실행에 관련된 파일을 하나의 jar파일(.jar)로 압축 하거나 압축 해제한다.

### III. 자바로 프로그램 작성하기.

#### 1. Hello.java

```
package JavaJungsuk;

public class Hello {
    public static void main(String[] args) {
        System.out.println("Hello, World");
    }
}
```

이 예제를 실행하려면, 먼저 자바 컴파일러(javac.exe)를 사용해서 소스파일(Hello.java)로 부터 클래스파일(Hello.class)을 생성 해야한다. 그 다음에 자바 인터프리터(java.exe)로 실행한다.

Hello.java 작성 ->(javac.exe) Hello.class 생성 ->(java.exe) "Hello, Wolrd" 출력

자바에서 모든 코드는 반드시 클래스 안에 존재해야 하며, 서로 관련된 코드들을 그룹으로 나누어 별도의 클래스를 구성하게 된다. 그리고 이 클래스들이 모여 하나의 Java 애플리케이션을 이룬다. 클래스를 작성하는 방법은 간단하다. 키워드 'class' 다음에 클래스의 이름을 적고, 클래스의 시작과 끝을 의미하는 괄호{} 안에 원하는 코드를 넣으면 된다.

```
Class 클래스이름 {
    수행할문장..
}
```

아래 코드의 'public static void main(String[] args)'는 main 매소드의 선언부인데, 프로그램을 실행할 때 'java.exe'에 의해 호출될 수 있도록 미리 약속된 부분이므로 항상 똑같이 적어 주어야 한다.

```
class 클래스이름 {
    public static void main(String[] args) {
        수행할문장..
    }
}
```

main 매소드의 선언부 다음에 나오는 괄호{}는 매소드의 시작과 끝을 의미하며, 이 괄호 사이에 작업할 내용을 작성해 넣으면 된다. Java 애플리케이션은 main 매소드의 호출로 시작해서 main 매소드의 첫 문장부터 마지막 문장까지 수행을 마치면 종료된다. 모든 클래스가 main 매소드를 가지고 있어야 하는 것은 아니지만, 하나의 Java 애플리케이션에는 main 매소드를 포함한 클래스가 반드시 하나는 있어야 한다. main 매소드는 Java 애플리케이션의 시작점이므로 main 매소드 없이는 Java 애플리케이션은 실행될 수 없기 때문이다. 작성된 Java 애플리케이션을 실행할 때는 'java.exe' 다음에 main 매소드를 포함한 클래스의 이름을 적어줘야 한다.

하나의 소스파일에 하나의 클래스만을 정의하는 것이 보통이지만, 하나의 소스파일에 둘 이상의 클래스를 정의하는 것도 가능하다. 이 때 주의해야할 점은 '소스파일의 이름은 public class의 이름과 일치해야 한다.'는 것이다. 만일 소스파일 내에 public class가 없다면, 소스파일의 이름은 소스파일 내의 어떤 클래스의 이름으로 해도 상관없다.

```
public class Hello2{}
       class Hello3{}

public class가 있는 경우, 소스파일의 이름은 반드시 public class의 이름과 일치해야한다.
```

```
class Hello2{}
class Hello3{}

public class가 하나도 없는 경우, 소스파일의 이름은 'Hello2.java', 'Hello3.java' 둘 다 가능하다.
```


#### 2. 자주 발생하는 에러와 해결방법
자바로 프로그래밍을 배워나가면서 많은 수의 크고 작은 에러들을 접하게 될 것이다. 대부분의 에러는 작은 실수에서 비롯된 것들이며, 곧 익숙해져서 쉽게 대응할 수 있게 되지만 처음 배울 때는 작은 실수 하나 때문에 많은 시간을 허비하곤 한다. 그래서 자주 발생하는 기본적인 에러와 해결방법을 간단히 정리하였다. 에러가 발생하였을 때 참고하고, 그 외의 에러는 에러메시지의 일부를 인터넷에서 검색해서 찾아보면 해결책을 얻는데 도움이 될 것이다.

**cannot find symbol or cannot resolve symbol**

지정된 변수나 매소드를 찾을 수 없다는 뜻으로 선언되지 않은 변수나 매소드를 사용하거나, 변수 또는 매소드의 이름을 잘못 사용한 경우에 발생한다. 자바에서는 대소문자 구분을 하기 때문에 철자 뿐 만 아니라 대소문자의 일치 여부도 꼼꼼하게 확인 해야한다.

**';'expected**

세미콜론 ';'이 필요한 곳에 없다는 뜻이다. 자바의 모든 문장의 끝에는 ';'을 붙여주어야 하는데 가끔 이를 잊고 실수하기 쉽다.

**Exception in thread "main" java.lang.NoSuchMethodError: main**

'main 매소드를 찾을 수 없다.'는 뜻인데 실제로 클래스 내에 main 매소드가 존재하지 않거나 매소드의 선언부 'public static void main(String[] args)'에 오타가 존재하는 경우에 발생한다.
이 에러의 해결 방법은 main 매소드가 클래스에 정의 되어 있는지 확인하고, 정의 되어 있다면 main 매소드의 선언부에 오타가 없는지 확인한다. 자바는 대소문자를 구별하므로 대소문자의 일치 여부 까지 정확히 확인 해야한다.

**Exception in thread "main" java.lang.NoClassDefFoundError: Hello**

'Hello라는 클래스를 찾을 수 없다.'는 뜻이다. 클래스 'Hello'의 철자, 특히 대소문자를 확인 해보고 이상이 없으면 클래스파일(*.class)이 생성 되었는지 확인한다. 예를 들어 'Hello.java'가 정상적으로 컴파일 되었다면 클래스파일 'Hello.class'가 있어야 한다. 클래스파일이 존재하는데도 동일한 메시지가 반복해서 나타난다면 클래스패스(classpath)의 설정이 바르게 되었는지 다시 확인해보자.

**illegal start of expression**

직역하면 문장(또는 수식, expression)의 앞부분이 문법에 맞지 않는다는 의미인데, 간단히 말해서 문장에 문법적 오류가 있다는 뜻이다. 괄호'('나 '{'를 열고서 닫지 않거나, 수식이나 if문, for문 등에 문법적 오류가 있을 때 또는 public이나 static과 같은 키워드를 잘못 사용한 경우에도 발생한다. 에러가 발생한 곳이 문법적으로 옳은지 확인하라.

**class, interface, or enum expected**

이 메시지의 의므는 '키워드 class나 interface 또는 enum이 없다.'이지만, 보통 괄호 '{' 도는 '}'의 개수가 일치 하지 않는 경우에 발생한다. 열린괄호와 닫힌괄호의 개수가 같은지 확인하자.

마지막으로 한 가지 더 얘기하고 싶은 것은 에러가 발생했을 때, 어떻게 해결할 것인가에 대한 방법이다. 아주 간단하고 당연한 내용이라서 다소 실망스럽게 느껴질지도 모르지만, 막상 실제 에러가 발생했을 때 아래의 순서대로 처리해보면 도움이 될 것이다.

```
1. 에러 미시지를 잘 읽고 해당 부분의 코드를 살펴본다. 이상이 없으면 해당 코드의 주위(윗줄과 아래 줄)도 함께 살펴본다.
2. 그래도 이상이 없으면 에러 메시지는 잊어버리고 기본적인 부분을 재확인한다. 대부분의 에러는 사소한 것인 경우가 많다.
3. 의심이 가는 부분을 주석 처리하거나 따로 떼어내서 테스트한다.
```

#### 3. 자바프로그램의 실행과정
콘솔에서 아래와 같이 Java 애플리케이션을 싱행시켰을 때 내부적인 진행 순서는 다음과 같다.
```
>>> java Hello
```

```
1. 프로그램의 실행에 필요한 클래스를 로드한다.
2. 클래스파일을 검사한다.(파일형식, 악성코드 체크)
3. 지정된 클래스에서 main을 호출한다.
```

#### 4. 주석(Comment)
작성하는 프로그램의 크기가 커질수록 프로그램을 이해하고 변경하는 일이 점점 어려워진다. 심지어는 자신이 작성한 프로그램도 '내가 왜 이렇게 작성했지?'라는 의문이 들기도 하는데 남이 작성한 코드를 이해한다는 것은 정말 쉬운 일이 아니다. 이러한 어려움을 덜기 위해 사용하는 것이 바로 **주석**이다. 주석을 작성하는 방법은 다음과 같이 두 가지 방법이 있다.

```
범위 주석 '/*' '*/' 사이의 내용은 주석으로 간주한다.
한줄 주석 '//'부터 라인 끝까지의 내용은 주석으로 간주한다.
```