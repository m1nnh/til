## :star: DataModeling 

### :speech_balloon: 모델링의 이해

#### 1. 모델링의 이해
i. 모델링의 정의
- 복잡한 '현실세계'를 단순화시켜 표현하는 것이다.
- 모델이란 사물 또는 사건에 관한 양상이나 관점을 연관된 사람이나 그룹을 위하여 명확하게 하는 것이다.
- 모델이란 현실 세계의 추상화된 반영이다.

ii. 모델링의 특징
- **추상화** : 현실세계를 일정한 형식에 맞추어 표현
- **단순화** : 복잡한 현실세계를 약속된 규약에 의해 제한된 표기법이나 언어로 표현하여 쉽게 이해할 수 있도록 하는 개념
- **명확화** : 누구나 이해하기 쉽게 하기 위해 대상에 대한 애매모호함을 제거하고 정확하게 현상을 기술하는것

iii. 모델링의 세 가지 관점
- 데이터 관점 (Data, What?) : 업무가 어떤 데이터와 관련이 있는지 또는 데이터간의 관계는 무엇인지에 대해서 모델링 하는 방법
- 프로세스 관점 (Process, How) : 업무가 실제하고 있는 일은 무엇인지 또는 무엇을 해야 하는지를 모델링 하는 방법
- 데이터와 프로세스의 상관관점 (Data vs Process) : 업무가 처리하는 일의 방법에 따라 데이터는 어떻게 영향을 받고 있는지 모델링하는 방법으로 설명될 수 있다.

#### 2. 데이터 모델의 기본 개념의 이해
i. 데이터 모델링
- 정보시스템을 구축하기 위한 데이터 관점의 업무 분석 기법
- 현실세계의 데이터에 대해 약속된 표기법에 의해 표현하는 과정
- 데이터베이스를 구축하기 위한 분석/설계의 과정

ii. 데이터 모델이 제공하는 기능
- 시스템을 현재 또는 원하는 모스브로 가시화하도록 도와준다.
- 시스템의 구조와 행동을 명세화 할 수 있게 한다.
- 시스템을 구축하는 구조화된 틀을 제공한다.
- 시스템을 구축하는 과정에서 결정한 것을 문서화한다.
- 다양한 영역에 집중하기 위해 다른 영역의 세부 사항은 숨기는 다양한 관점을 제공한다.
- 특정 목표에 따라 구체화된 상세 수준의 표현 방법을 제공한다.

#### 3. 데이터 모델링의 중요성 및 유의점
- 파급효과 (Leverage) : 시스템 구축 작업 중에서 다른 어떤 설계 과정보다 데이터 설계가 더 중요하다.
- 복잡한 정보 요구사항의 간결한 표현 (Conciseness) : 데이터 모델은 시스템을 구축하는 많은 관련자들이 설계자의 생각대로 정보 요구 사항을 이해하고 이를 운용할 수 있는 애플리케이션을 개발하고 데이터 정합성을 유지할 수 있도록 하는 것이다.
- 데이터 품질 : 데이터 품질의 문제가 야기되는 중대한 이유 중 하나가 바로 데이터 구조의 문제이다.
    1. 중복 : 같은 시간 같은 데이터 제공
    2. 비유연성 : 사소한 업무 변화에 데이터 모델이 수시로 변경되면 안됨
    3. 비일관성 : 신용 상태에 대한 갱신 없이 고객의 납부 이력 정보 갱신 안됨 (연계성이 떨어진다.)

#### 4. 데이터 모델링의 3단계 진행
- **특별히 데이터 모델은 데이터베이스를 만들어내는 설계서로서 분명한 목표**를 가지고 있다. 추상화 수준에 따라서 데이터 모델을 분류할 수 있다.
- 개념적 데이터 모델링 : 추상화 수준이 높고 업무 중심적이고 포괄적인 수준의 모델링을 진행한다.
- 논리적 데이터 모델링 : 엔터티 중심의 상위 수준의 데이터 모델이 완성되면 업무의 구체적인 모습과 흐름에 따른 구체화된 업무 중심의 데이터 모델을 만들어 낸다.
- 물리적 데이터 모델링 : 논리적 데이터 모델링 이후 데이터베이스의 저장구조에 따른 테이블 스페이스 등을 고려한 방식
- 전사적 데이터 모델 : 데이터 모델링 과정이 전 조직에 걸쳐 이루어진다면 그것은 전사적 데이터 모델이라 한다.

#### 5. 데이터 모델링에서 데이터독립성의 이해
i. 데이터 독립성 요소
- 외부 스키마 : 개개 사용자가 보는 개인전 DB 스키마
- 개념 스키마 : 모든 사용자 관점을 통합한 전체 DB
- 내부 스키마 : 물리적 장치에서 데이터가 실제적 저장

ii. 데이터 독립성
- 논리적 독립성 : 개념 스키마가 변경되어도 외부 스키마에 영향이 없다.
- 물리적 독립성 : 내부 스키마가 변경되어도 외부 / 개념 스키마에 영향이 없다.

iii. 매핑
- 상호 독릭적인 개념을 연결 시켜 주는 다리
- 외부적/개념적 매핑 : 외부적 뷰와 개념적 뷰의 상호 관련성
- 개념적/내부적 매핑 : 개념적 뷰와 저장된 데이터베이스의 상호 관련성

iv. 데이터 모델링의 세 가지 요소
- 어떤 것, 성격, 관계
- 어떤 것 (Things) : 사물이나 사건 등을 바라 볼 때 전체를 지칭하는 용어
- 성격 (Attributes) : 어떤 것이 가지는 세부적인 사항
- 관계 (Relationship) : 각각의 어떤 것은 다른 어떤 것과의 연관성

#### 6. 데이터 모델의 표기법인 ERD의 이해
- 데이터 모델에 대한 표기법으로 1967년 피터첸이 Entity - Relationship Model 이라는 표기법을 만들었다.
- 엔터티 : 사각형
- 관계 : 마름모
- 속성 : 타원형
- ERD 작업 순서
    1. 엔터티를 그린다.
    2. 엔터티를 적절하게 배치한다.
    3. 엔터티간 관계를 설정한다.
    4. 관계명을 기술한다.
    5. 관계의 참여도를 기술한다.
    6. 관계의 필수 여부를 기술한다.

#### 7. 좋은 데이터 모델의 요소
- 완전성 : 업무에 필요한 모든 데이터가 모델에 정의
- 중복 배제 : 하나의 데이터베이스 안에 동일한 사실은 한번만
- 업무 규칙 : 많은 규칙을 사용자가 공유하도록 제공
- 데이터 재사용 : 데이터가 독립적으로 설계 돼야 한다.
- 의사소통 : 업무 규칙은 엔터티, 서브타입, 속성, 관계 등의 형태로 최대한 자세히 표현
- 통합성 : 동일한 데이터는 한 번만 정의, 참조 활용

### :speech_balloon: 엔터티

#### 1. 엔터티의 개념
- 업무에 필요하고 유용한 정보를 저장하고 관리하기 위한 집합적인 것, 보이지 않는 개념도 포함한다.

#### 2. 엔터티의 특징
- 반드시 해당 업무에서 필요하고 관리하고자 하는 정보이어야 한다.
- 유일한 식별자에 의해 식별이 가능해야 한다.
- 영속적으로 존재하는 인스턴스의 집합이어야 한다. (두개 이상의 인스턴스)
- 엔터티는 업무 프로세스에 의해 이용 되어야 한다.
- 엔터티는 반드시 속성이 있어야 한다.
- 엔터티는 다른 엔터티와 최소 한 개 이상의 관계가 있어야 한다.

#### 3. 엔터티의 분류
- 유무 형에 따른 분류 (유형, 개념, 사건엔터티)
    - 유형 엔터티 : 물리적인 형태가 있고 안정적이며 지속적으로 활용 되는 엔터티
    - 개념 엔터티 : 물리적인 형태는 존재하지 않고 관리 해야 할 개념적 정보로 구분이 되는 엔터티
    - 사건 엔터티 : 업무를 수행함에 따라 발생되는 엔터티
- 발생시점에 따른 분류 (기본/키, 중심, 행위 엔터티)
    - 기본 엔터티 : 그 업무에서 원래 존재하는 정보로써 다른 엔터티와 관계에 의해 생성되지 않고 독립적으로 생성이 가능하고 자신은 타 엔터티의 부모의 역할을 하게 된다.
    - 중심 엔터티 : 기본 엔터티로부터 발생 되고 업무에 있어서 중심적인 역할을 한다.
    - 행위 엔터티 : 두 개 이상의 부모 엔터티로부터 발생되고 자주 내용이 바뀌거나 데이터량이 증가한다.

#### 4. 엔터티의 명명
- 가능한 현업 업무에서 사용하는 용어를 사용한다.
- 약어를 사용하지 않는다.
- 단수 명사를 사용한다.
- 고유한 이름을 부여한다.
- 엔터티 생성 의미대로 이름을 부여한다.

### :speech_balloon: 속성

#### 1. 속성의 개념
- 업무에서 필요로 하는 인스턴스로 관리하고자 하는 의미상 더 이상 분리 되지 않는 최소의 데이터 단위

#### 2. 속성의 특징
- 엔터티와 마찬가지로 반드시 해당 업무에서 필요하고 관리하고자 하는 정보여야 한다.
- 정규화 이론에 근간하여 정해진 주식별자에 함수적 종속성을 가져야 한다.
- 하나의 속성에는 한 개의 값만을 가진다. 하나의 속성에 여러 개의 값이 있는 다중 값일 경우 별도의 엔터티를 이용하여 분리한다.

#### 3. 속성의 분류
- 기본 속성 : 업무로부터 추출한 모든 속성
- 설계 속성 : 업무상 필요한 데이터 이외에 데이터 모델링을 위해, 업무를 규착화 하기 위해 속성을 새로 만들거나 변형하여 정의
- 파생 속성 : 다른 속성에 영향을 받아 발생하는 속성으로써 보통 계산된 값들이 이에 해당한다.

#### 4. 도메인
- 각 속성은 가질 수 있는 값의 범위가 있는데 그것을 도메인이라 한다.

#### 5. 속성의 명명
- 해당 업무에서 사용하는 이름을 부여한다.
- 서술식 속성명은 사용하지 않는다.
- 약어 사용은 가급적 제한한다.
- 전체 데이터 모델에서 유일성을 확보하는 것이 좋다.

### :speech_balloon: 관계

#### 1. 관계의 개념
- 엔터티의 인스턴스 사이의 논리적인 연관성으로써 존재의 형태로써나 행위로써 서로에게 연관성이 부여 된 상태
- 페어링 : 인스턴스간의 관계

#### 2. 관계의 분류
- UML에는 연관 관계와, 의존 관계가 있는데 연관 관계는 항상 이용하는 관계이고 의존 관계는 상대방 행위에 의해 발생하는 관계이다.
- ERD에서는 존재적 관계와 행위에 의한 관계를 구분하지 않고 표기했지만 UML에서는 이를 구분하여 연관 관계는 실선, 의존 관계는 점선으로 표현

#### 3. 관계의 표기법
- 관계명 : 관계의 이름
- 관계 차수 : 1:1, 1:M, M:N
- 관계 선택 사양 : 필수 관계, 선택 관계

### :speech_balloon: 식별자

#### 1. 식별자 개념
- 하나의 엔터티에 구성 되어 있는 여러 개의 속성 중에 엔터티를 대표할 수 있는 속성

#### 2. 식별자의 특징
- **유일성** : 주 식별자에 의해 엔터티 내의 모든 인스턴스들이 유일하게 구분 되어야 한다.
- **최소성** : 주 식별자를 구성한는 속성의 수는 유일성을 만족하는 최소의 수가 되어야 한다.
- **불변성** : 지정된 주 식별자의 값은 자주 변하지 않는 것이어야 한다.
- **존재성** : 주 식별자가 지정이 되면 반드시 값이 들어와야 한다.

#### 3. 식별자 분류
- 대포성 여부 : 주식별자, 보조식별자
    - 주식별자 : 엔터티 내에서 각 어커런스를 구분할 수 있는 구분자, 타 엔터티와 참조 관계를 연결할 수 있음
    - 보조식별자 : 어커런스를 구분할 수 있는 구분자이나 대표성을 가지지 못해 참조 관계 연결 불가
- 스스로 생성여부 : 내부식별자, 외부식별자
    - 내부식별자 : 스스로 생성되는 식별자
    - 외부식별자 : 타 엔터티로부터 받아오는 식별자
- 속성의 수 : 단일식별자, 복합식별자
    - 단일식별자 : 하나의 속성으로 구성
    - 복합식별자 : 2개 이상의 속성으로 구성
- 대체 여부 : 본질식별자, 인조식별자
    - 본질식별자 : 업무에 의해 만들어지는 식별자
    - 인조식별자 : 인위적으로 만든 식별자

#### 4. 주식별자 도출기준
- 해당 업무에서 자주 이용되는 속성을 주식별자로 지정한다.
- 명칭, 내역 등과 같이 이름으로 기술되는 것들은 가능하면 주식별자로 지정하지 않는다.
- 복합으로 주식별자로 구성할 경우 너무 많은 속성이 포함되지 않도록 한다.

#### 5. 식별자 관계
- 주식별자 : 자식의 주식별자로 부모의 주식별자 상속
- 비식별자 : 부모 속성을 자식의 일반 속성으로 사용
    1. 부모 없는 자식이 생성될 수 있는 경우
    2. 부모와 자식의 생명 주기가 다른 경우
    3. 여러 개의 엔터티가 하나의 엔터티로 통합 되어 표현 되었는데 각각의 엔터티가 별도의 관계를 가진 경우
    4. 자식 엔터티에 별도의 주식별자를 생성하는 것이 더 유리한 경우
    5. SQL 문장이 길어져 복잡성이 증가 되는 것을 방지
